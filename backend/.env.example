# Server Configuration
PORT=3000
NODE_ENV=development

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_TEMPERATURE=0
OPENAI_MAX_TOKENS=1000

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# PostgreSQL Connection for Schema Management (choose ONE of the following options):

# OPTION 1 (Recommended for Render/Heroku): Use full connection string
# Get from: Supabase Dashboard > Settings > Database > Connection String (Transaction mode)
# Use the "Transaction" pooler (port 6543) for better compatibility with serverless platforms
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@db.[PROJECT-REF].supabase.co:6543/postgres
SUPABASE_CONNECTION_STRING=

# OPTION 2: Use DATABASE_URL (automatically set by some platforms)
# DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:6543/postgres

# OPTION 3: Use password only (system will construct connection string)
# Get from: Supabase Dashboard > Settings > Database > Connection String
# Extract the password from the connection string
SUPABASE_DB_PASSWORD=

# Advanced: Use direct connection instead of pooler (not recommended for Render/serverless)
# Set to 'false' to use port 5432 instead of 6543
# USE_SUPABASE_POOLER=true

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_SESSION_TTL=3600

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_CHAT_ID=your-telegram-group-chat-id

# RAG Configuration
VECTOR_SIMILARITY_THRESHOLD=0.7
TOP_K_RESULTS=5
CONFIDENCE_THRESHOLD=0.7
MAX_CONTEXT_LENGTH=3000

# Escalation Configuration
ESCALATE_ON_NO_KNOWLEDGE=true

# Security & Privacy Configuration
ENABLE_WEB_SEARCH=false
ENABLE_EMPLOYEE_VECTOR_SEARCH=false

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Security
JWT_SECRET=your-jwt-secret-key
CORS_ORIGIN=http://localhost:3001

# Logging
LOG_LEVEL=info

# Azure AD Configuration (for Email - Microsoft Graph API with Delegated Permissions)
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret
AZURE_TENANT_ID=your-azure-tenant-id

# Service Account for Delegated Permissions (Username/Password Flow)
# Create a dedicated service account (e.g., notifications@yourcompany.com) for sending emails
AZURE_SERVICE_ACCOUNT_USERNAME=notifications@yourcompany.com
AZURE_SERVICE_ACCOUNT_PASSWORD=your-service-account-password

# Email Configuration for LOG requests
LOG_REQUEST_EMAIL_FROM=notifications@yourcompany.com
LOG_REQUEST_EMAIL_TO=support-team@yourcompany.com
LOG_REQUEST_KEYWORDS=request log,send logs,need log

# File Upload Configuration
MAX_ATTACHMENT_SIZE=10485760
MAX_ATTACHMENTS=5
UPLOAD_DIR=./uploads
